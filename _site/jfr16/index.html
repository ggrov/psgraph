<!DOCTYPE html>
<html><head><title>Tinker - JFR paper resources</title>





	
	<link rel="stylesheet" href="style/main.css">
	<link rel="shortcut icon" href="favicon.ico">
	
<link rel="stylesheet" href="style/tinkerViz.css"><link rel="stylesheet" href="style/graph.css"><link rel="stylesheet" href="style/tinkerViz.css"><link rel="stylesheet" href="style/graph.css"><link rel="stylesheet" href="style/tinkerViz.css"><link rel="stylesheet" href="style/graph.css"><link rel="stylesheet" href="style/tinkerViz.css"><link rel="stylesheet" href="style/graph.css"></head><body>
	<header id="header" class="">
	</header><div>
<div style="text-align: center;">
		
		</div>
<h1 style="text-align: center;">Debugging and refactoring tactics graphically <br>

 (JFR paper resources)</h1>

		<h3 style="text-align: center;">Authors : Yuhui Lin, Gudmund Grov and Rob Arthan</h3>
	</div>
	<!-- /header -->
	<div class="container">
		
<script src="script/d3.min.js"></script>
		
<script src="script/d3-tip.min.js"></script>
		
<script src="script/tinker.js"></script><br>

<div class="section" id="intro">
<address>We present the use of a graph-based proof strategy language,
called PSGraph, in the&nbsp; re-implementation and refactoring of
several existing tactics. We show that the PSGraph implementation can
improve understandability and maintainability properties of the tactic.
This webpage presents the resources used in the paper. All the PSGraph
examples are available <a href="./ressources/exmaples_ps.zip" target="_blank">&lt;here&gt;</a>, and the original resource of the case studies are <br>
</address>
<ul>
  <li>Tautology: this tactic is part of ProofPower, the ML file is <a target="_blank" href="file:///Users/yuhuilin/Workspace/StrategyLang/projectPage/jfr16/ressources/pp_taut.sml">&lt;here&gt;</a>.<br>
  </li>
  <li>the FEF project: the project website can be found <a target="_blank" href="http://www.lemma-one.com/ProofPower/fef/fef.html">&lt;here&gt;</a>, and the ML file which includes the definitions of the tactics is <a target="_blank" href="file:///Users/yuhuilin/Workspace/StrategyLang/projectPage/jfr16/ressources/fef033.sml">&lt;here&gt;</a>.<br>
  </li>
  <li>Conversions: the paper for this case study is &lt;here&gt;, and the ML file which includes the definition of the tactic is<a target="_blank" href="file:///Users/yuhuilin/Workspace/StrategyLang/projectPage/jfr16/ressources/wrk083.sml"> &lt;here&gt;</a>. </li>
</ul>
<address>
<span style="color: rgb(153, 51, 0);"></span></address>

<br>

<h2>Installation <br>

</h2>


			<hr>The example runs with Proof Power, to configure it, follow those steps :
			
					
<p>assume that the quantomatics repo and the PSGraph are cloned in the
same folder, for example (TODO: can we provide a script to generate a ProofPower database, like the FEF example)<br>

</p>

					
<p class="code">$SOME_PATH/tinker</p>
 
					
<p>we can check the readme file to make sure the path is correct, e.g. the readme for quantomatoics repo will be </p>

					
<p class="code">$SOME_PATH/tinker/quantomatic/README</p>

					
<p>similarly, the readme for the psgtarph repo will be</p>

					
<p class="code">$SOME_PATH/tinker/psgraph/Readme.md?</p>
(SOME TEXT to show how to build or run the script to compile the database)<br>

When the database is compiled, using the following command to run ProofPower containing the case studies in the heap:<br>

<p class="code">xpp -d psgraph</p>

				
			<p>The ML files of the examples of the paper are under<br>

</p>
			<p class="code">$SOME_PATH/tinker/psgraph/src/core/examples/JFR16</p>
			namely, <span style="font-style: italic;">simple.M</span>L, <span style="font-style: italic;">taut.ML</span>, <span style="font-style: italic;">fef_tac.ML</span> and&nbsp;<span style="font-style: italic;"> conv_tac.ML</span>. We will give more details for each example in the following sections. There are two commands to invoke tinker, <br>


<p style="color: rgb(153, 51, 0);">&nbsp;&nbsp;&nbsp; <span class="section"></span><span class="code"></span><small><span style="font-style: italic;"></span></small><span style="font-family: monospace;">PPIntf.apply_ps psgraph</span></p>
and <small><span style="font-style: italic; color: rgb(153, 0, 0);" class="section"></span><span style="font-style: italic; color: rgb(153, 0, 0);" class="code"></span><span style="font-style: italic; color: rgb(153, 0, 0);"><br>
</span></small>
<p style="color: rgb(153, 51, 0);">&nbsp;&nbsp;&nbsp; <span class="section"></span><span class="code"></span><small><span style="font-style: italic;"></span></small><span style="font-family: monospace;">PPIntf.apply_ps_i psgraph</span></p>The
first command is to apply a PSGraph to the current goal automatically,
while the second one is to apply a PSGraph interactively with the
Tinker GUI.
Also, there is another command to setup a goal in ProofPower and apply
a PSGraph interactively, which is<br>


			
<p><span style="font-family: monospace; color: rgb(153, 51, 0);">&nbsp;&nbsp; PPIntf.set_psg_goal goal psgraph</span></p>
<span class="atm"></span><ul>
  
</ul><br>


<span class="section"></span><span class="code"></span>In the
interactive mode, the tinker GUI will be involved for evaluating and
debugging the current proof. More details for the GUI can be found
in <a href="../userGuide.pdf" title="">Tinker's user guide</a>.
		</div>
		<div class="section" id="simple">
			
			
			<h2>A simple example</h2>
			<hr>
			This is a simple example to show the use of Goaltype to guide the subgoal to the right subsequent tactic.<br>


			<h3>Evaluation of the simple PSGraph </h3>
			<div id="simple_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("simple_proof","ressources/simple_eval.json")
			</script>
		</div>
		<div class="section" id="taut">
			
			
			<h2>A tautology tactic for propositional logic</h2>
			<hr>
			This
example re-engineers a tautology tactic into PSGraph. It contains the
details of how we a generalised version, followed by optimisations
through a set of refactorings. Tinker's debugging capabilities are
utilised to find and correct mistakes in the encoding.<br>


			<h3>Refactoring History</h3>
			<div id="taut_refactor">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Version : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("taut_refactor","ressources/taut_refactor.json")
			</script>

			<h3>Debugging using breakpoints</h3>
			<div id="taut_debug">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("taut_debug","ressources/taut_debug.json")
			</script>		
			<h3>Evaluation of the final version </h3>
			<div id="taut_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>	
			
<script>
				makeViz("taut_proof","ressources/taut_eval.json")
			</script>		
		</div>
		<div class="section" id="fef">
			
			
			<h2>Domain specific tactics from the FEF project</h2>
			<hr>The FEF Project was an early application of ProofPower to<br>

verify the security properties of a multi-level secure database system
called SWORD. We will look at some very domain-specific tactics taken
from the FEF<br>

proof scripts as an experiment in porting an existing application proof
to PSGraph with a view to making future maintenance easier by
presenting the proof at a higher level.<br>

<br>

<h3>Evaluation of tac1</h3>
			<div id="fef_tac1_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("fef_tac1_proof","ressources/tac1_eval.json")
			</script>
			<h3>Evaluation of tac2</h3>
			<div id="fef_tac2_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("fef_tac2_proof","ressources/tac2_eval.json")
			</script>
			<h3>Evaluation of tac3</h3>
			<div id="fef_tac3_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("fef_tac3_proof","ressources/tac3_eval.json")
			</script>
			<h3>Evaluation of tac4</h3>
			<div id="fef_tac4_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("fef_tac4_proof","ressources/tac4_eval.json")
			</script>
		</div>
		<div class="section" id="conv">
			
			
			<h2>Developing conversions</h2>
			<hr>
			The
final case study addresses a more abstract example, which is an
implementation of a proof procedure&nbsp; that automates proofs that a
function formed from a given set of<br>

atomic morphisms by composition and pairing is a morphism in a concrete category. <br>

This case study includes more complex features of low-level term rewriting through
conversions with recursion.
			<h3>Proof recording</h3>

			<div id="conv_proof">
				<div id="graphContent" style="visibility: hidden;">
					<div class="line">
						<div class="line content">
							<span>Evaluation Step : </span>
							<button id="previousPSGraph" onclick="previousPSGraph()">&#9664;</button>
							<span id="vizIndices"></span>
							<button id="nextPSGraph" onclick="nextPSGraph()">&#9654;</button>
							<!--<button id="playPSGraph" onclick="playViz()">Play</button>-->
						</div>
					</div>
					<div id="mainArea">
						<div class="line content">
							<div class=""><span>Evaluation path : </span><span id="graphTactic"></span></div>
							<div>
								
<select id="tacticList" class="">
</select>

								<span>Subgraphs : </span>
								<button id="previousSubGraph" onclick="previousSubGraph()">&#9664;</button>
								<span id="graphIndices"></span>
								<button id="nextSubGraph" onclick="nextSubGraph()">&#9654;</button>
							</div>
						</div>
						<div class="content"><div id="graph" class=""></div><div id="credits">Credits : <a href="http://d3js.org/">d3.js</a> &amp; <a href="http://labratrevenge.com/d3-tip/">d3-tip</a></div></div>
					</div>
					<div id="graphError" style="visibility: hidden;"></div>
				</div>
			</div>
			
<script>
				makeViz("conv_proof","ressources/conv_eval.json")
			</script>
		</div>
		<div class="section" id="demo">
			<h2>Tool demo</h2>
			<hr>
			<ul>
				<li><a onclick="changeVideoSource(0)">TODO: add new demo vedio</a></li>
			    <li><a onclick="changeVideoSource(0)">Basic Drag and Drawing Editing</a></li>
			    <li><a onclick="changeVideoSource(1)">Supports for Hierarchy</a></li>
			    <li><a onclick="changeVideoSource(2)">PSGraph Library</a></li>
			    <li><a onclick="changeVideoSource(3)">Evaluation and Debugging</a></li>
			    <li><a onclick="changeVideoSource(4)">Breakpoint</a></li>
			</ul>
			<div id="vidContainer">
				<iframe id="vid" src="" height="390" width="680">
				</iframe>
			</div>
			
<script>
				var videosSource = [
					"https://www.youtube.com/embed/Rll0NH4MFiI",
					"https://www.youtube.com/embed/LTyAH9IJbfU",
					"https://www.youtube.com/embed/soAA3pSUTAI",
					"https://www.youtube.com/embed/L-RHYPXI4Ws",
					"https://www.youtube.com/embed/JSLqI9dBaq4"
					]
				function changeVideoSource(index){
					document.getElementById("vid").setAttribute("src",videosSource[index])
				}
				document.getElementById("vid").setAttribute("src",videosSource[0])
			</script>
		</div>
	</div>
</body></html>